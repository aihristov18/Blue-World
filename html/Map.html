<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Blue World Map</title>
   <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
   <link rel="stylesheet" type="text/css" href="../css/Map.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   <script src="../js/MapScripts.js"></script>
   <script src="../js/map.js"></script>
   <script src="../js/data.js"></script>
   <script>
      function giveData(element) {
         for (var i = 0; i < dataArray.length; i++) {
            if (dataArray[i].country == element) {
               getInfo(dataArray[i].dataPoint, "#population", dataArray[i].url);
               getInfo(dataArray[i].GDPdataPoint,"#GDP",dataArray[i].GDPurl)
               $("#countryName").html(dataArray[i].name);
               $("#popSub").html("Population:");
               $("#dataDiv").css("display","block")
            }
         }
      }
      var onMainMenu = true;
      window.onload = function () {
         document.getElementById("Map").innerHTML = Map;
         InitialiseMap(40, 24, "BG");

         var inAsia = false, inEurope = false, inAmerica = false, inAfrica = false, inOceania = false, inSouthAmerica = false;
         var MCanvas = $("#SVGRoot");
         var BGcanvas = $("#triangle");
         var asiaElements = $(".Asia");
         var europeanElements = $(".Europe");
         var americanElements = $(".America");
         var oceanianElements = $(".Oceania");
         var africanElements = $(".Africa");
         var sAmericanElements = $(".SouthAmerica");



         europeanElements.hover(function () {
            if (onMainMenu) {
               europeanElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               europeanElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         });

         africanElements.hover(function () {
            if (onMainMenu) {
               africanElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               africanElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         });

         sAmericanElements.hover(function () {
            if (onMainMenu) {
               sAmericanElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               sAmericanElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         });

         oceanianElements.hover(function () {
            if (onMainMenu) {
               oceanianElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               oceanianElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         })

         americanElements.hover(function () {
            if (onMainMenu) {
               americanElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               americanElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         })

         asiaElements.hover(
            function () {
               if (onMainMenu) {
                  asiaElements
                     .css("stroke", "white")
                     .css("transition", "0.8s")
                     .css("cursor", "pointer")
               }
            },
            function () {
               if (onMainMenu) {
                  asiaElements
                     .css("stroke", "black")
                     .css("cursor", "")
               }
            }
         );


         //ASIA ZOOM IN
         asiaElements.on("click", function () {
            if (onMainMenu) {
               $("#countryName").html("");
               $("#popSub").html("");
               $("#population").html("");
               // $().on("click",function(){console.log("test");});
               onMainMenu = false;
               asiaElements
                  .css("stroke", "white")
                  .css("cursor", "")
               MCanvas
                  .attr("viewBox", "0 0 2100 1000")
                  //.css("overflow", "visible")
                  .attr("padding-right", "40%")
                  .attr("height", "5%")
                  .css("margin-left", "0%")
                  .css("transform", "scale(1.7)")
                  .css("transition", "1s")
                  .css("padding-top", "5.5%")
                  .css("padding-right", "57%");
               BGcanvas
                  .css("transform", "scale(1.7)")
                  .css("transition", "1s")
                  .attr("overflow", "hidden")
                  .css("padding-top", "5.5%")
                  .attr("viewBox", "0 0 3700 1652")
               $(".Unclear.Asia")
                  .css("animation-name", "neutral")
                  .css("animation-duration", "4s")
                  .css("animation-iteration-count", "infinite");
               $("#Russia").on("click", function () {
                  giveData("#Russia");
               })
               $("#China")
                  .css("fill", "#cc0000");
               $("#India")
                  .css("fill", "#ff8533");
            }
         });

         $("#Russia").hover(function () {
            if (onMainMenu == false)
               $("#Russia").css("fill", "#ffc354")
         }, function () {
            if (onMainMenu == false)
               $("#Russia").css("fill", "#e3a22b")
         });

         //EUROPE ZOOM IN
         europeanElements.on("click", function () {
            if (onMainMenu) {
               onMainMenu = false;
               europeanElements
                  .css("stroke", "white")
               MCanvas
                  .css("transform", "scale(4)")
                  .css("padding-top", "14%")
                  .css("padding-left", "6%")
                  .attr("viewBox", "0 0 2100 820")
                  .css("overflow", "hidden")
                  .css("transition", "1s");
               BGcanvas
                  .css("transform", "scale(4)")
                  .css("transition", "1s")
                  .attr("overflow", "hidden")
                  .css("padding-top", "12%")
                  .attr("viewBox", "0 0 3700 1400")
            }
         });

         //Africa Zoom in
         africanElements.on("click", function () {
            if (onMainMenu) {
               onMainMenu = false;
               africanElements.css("stroke", "white")
               MCanvas
                  .css("transform", "scale(2)")
                  .css("padding-bottom", "27%")
                  .css("overflow", "hidden")
                  .attr("viewBox", "0 0 2100 892")
                  .css("transition", "1s");
               BGcanvas
                  .css("overflow", "hidden")
                  .css("transform", "scale(2)")
                  .css("transition", "1s")
                  .attr("viewBox", "0 0 3700 1850")
            }
         });

         //S.America zoom-in
         sAmericanElements.on("click", function () {
            if (onMainMenu) {
               onMainMenu = false;
               sAmericanElements.css("stroke", "white")
               MCanvas
                  .css("transition", "1s")
                  .css("transform", "scale(2)")
                  .attr("viewBox", "0 0 2100 1100")
                  .css("margin-left", "50%")
                  .css("padding-bottom", "50%")
                  .css("overflow", "hidden")
               BGcanvas
                  .css("transition", "1s")
                  .css("overflow", "hidden")
                  .css("transform", "scale(2)")
                  .attr("viewBox", "0 100 3700 1860")
            }
         });

         //America zoom-in
         americanElements.on("click", function () {
            if (onMainMenu) {
               onMainMenu = false;
               sAmericanElements.css("stroke", "white")
               MCanvas
                  .css("overflow", "hidden")
                  .css("transition", "1s")
                  .css("transform", "scale(2)")
                  .css("padding-top", "13%")
                  .css("padding-left", "35%")
                  .css("padding-top", "10%")
                  .attr("viewBox", "0 0 2100 912")
               BGcanvas
                  .css("transition", "1s")
                  .css("overflow", "hidden")
                  .css("transform", "scale(2)")
            }
         });

         //Oceania zoom-in
         oceanianElements.on("click", function () {
            if (onMainMenu) {
               onMainMenu = false;
               oceanianElements.css("stroke", "white")
               MCanvas
                  .css("transition", "1s")
                  .css("overflow", "hidden")
                  .css("transform", "scale(3)")
                  .css("padding-right", "100%")
                  .css("padding-bottom", "38%")
               //.attr("viewBox","700 260 2100 1100")
               BGcanvas
                  .css("transition", "1s")
                  .css("overflow", "hidden")
                  .css("transform", "scale(3)")
            }
         });



         for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "water"); }
         for (var i = 0; i < 100; i++) { AnimateWater(40, 24, "BlueWater"); }
         for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "WhiteWater"); }

         setTimeout(function () {
            for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "water"); }
            for (var i = 0; i < 100; i++) { AnimateWater(40, 24, "BlueWater"); }
            for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "WhiteWater"); }

            setTimeout(function () {
               for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "water"); }
               for (var i = 0; i < 100; i++) { AnimateWater(40, 24, "BlueWater"); }
               for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "WhiteWater"); }
            }, 2000);
         }, 2000);

      }


      function zoomOut() {

         var europeanElements = $(".Europe");
         var americanElements = $(".America");
         var oceanianElements = $(".Oceania");
         var africanElements = $(".Africa");
         var sAmericanElements = $(".SouthAmerica");
         var MCanvas = $("#SVGRoot");
         var BGcanvas = $("#triangle");
         var asiaElements = $(".Asia");
         onMainMenu = true;
         asiaElements
            .css("stroke", "black")
         MCanvas
            .attr("viewBox", "0 0 2100 1100")
            //.css("overflow", "visible")
            .attr("padding-right", "")
            .attr("height", "")
            .css("margin-left", "")
            .css("transform", "scale(1)")
            .css("transition", "1s")
            .css("padding-top", "")
            .css("padding-right", "")
            .css("padding-left", "")
            .css("padding-bottom", "")
         BGcanvas
            .css("margin-top", "")
            .css("margin-bottom", "")
            .css("padding-bottom", "")
            .css("transform", "scale(1)")
            .css("transition", "1s")
            .attr("overflow", "hidden")
            .css("padding-top", "")
            .attr("viewBox", "0 0 3700 1860");
         $(".Unclear.Asia")
            .css("animation-name", "")
            .css("animation-duration", "")
            .css("animation-iteration-count", "");
         asiaElements.css("fill", "#f3be5c");
         oceanianElements.css("fill", "#f3be5c");
         africanElements.css("fill", "#f3be5c");
         americanElements.css("fill", "#f3be5c");
         sAmericanElements.css("fill", "#f3be5c");
         europeanElements.css("fill", "#f3be5c");
         asiaElements.css("stroke", "black");
         oceanianElements.css("stroke", "black");
         africanElements.css("stroke", "black");
         americanElements.css("stroke", "black");
         sAmericanElements.css("stroke", "black");
         europeanElements.css("stroke", "black");
         $("#dataDiv").css("display","none")
         // $("#countryName").html("");
         // $("#popSub").html("");
         // $("#population").html("");
      }

   </script>
</head>

<body>
   <div id="label"></div>
   <div id="Map"></div>
   <div id="BG" style="position: relative; overflow:hidden;"></div>
   <button style="position: absolute; z-index: 3; float:right;" onclick="zoomOut()">Zoom out</button>
   <hr style="color:white">
   <div id="dataDiv">
      <center>
         <p id="countryName"></p>
      </center>
      <center>
         <p id="popSub"></p>
      </center>
      <center>
         <p id="population"></p>
      </center>
      <center><div id="dataDiv2" class="columns">
      <p class="sub">Fisheries</p>
      <p class="stats">negores</p>
      <p class="sub">Budget</p>
      <p id="GDP" class="stats"></p>
      </div></center>
   </div>
</body>

</html>
</body>

</html>