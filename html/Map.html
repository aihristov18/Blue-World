<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Blue World Map</title>
   <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
   <link rel="stylesheet" type="text/css" href="../css/Map.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   <script src="../js/MapScripts.js"></script>
   <script src="../js/map.js"></script>
   <script src="../js/data.js"></script>
   <script>
      function giveData(element, color) {
         $("#pollution").html("...");
         $("#food").html("...")
         $("#population").html("...")
         $("#GDP").html("...")
         for (var i = 0; i < dataArray.length; i++) {
            if (dataArray[i].country == element) {
               getInfo(populationDataPoint, "#population", dataArray[i].populationUrl, "People");
               getInfo(GDPSataPoint, "#GDP", dataArray[i].GDPUrl, "")
               getInfo(foodDataPoint, "#food", dataArray[i].FPUrl, "/ 100")
               getInfo(pollutionDataPoint, "#pollution", dataArray[i].FPUrl, "/ 100")
               $("body").css("background-color", color).css("transition", "1s")
               $("#CountryName").html(dataArray[i].name);
               $("#popSub").html("Population:");
               $("#dataDiv").css("display", "block")
            }
         }
      }
      var onMainMenu = true;
      var inAsia = false;
      var inAmerica = false;
      var inAfrica = false;
      var inOceania = false;
      var inSAmerica = false;
      var inEurope = false;
      window.onload = function () {
         document.getElementById("Map").innerHTML = Map; // Initialise the Map
         InitialiseMap(40, 24, "BG"); // Initialise The Background Triangle Grid

         //Zoom-out on right click, also hide the context menu
         $('#Map').bind("contextmenu", function (e) {
            zoomOut();
            return false;
         });

         //Initialise Refrences to the continents
         var MCanvas = $("#SVGRoot");
         var BGcanvas = $("#triangle");
         var asiaElements = $(".Asia");
         var europeanElements = $(".Europe");
         var americanElements = $(".America");
         var oceanianElements = $(".Oceania");
         var africanElements = $(".Africa");
         var sAmericanElements = $(".SouthAmerica");


         //Add a stroke of 4px to every continent
         asiaElements.css("stroke-width", "4px");
         europeanElements.css("stroke-width", "4px");
         americanElements.css("stroke-width", "4px");
         oceanianElements.css("stroke-width", "4px");
         africanElements.css("stroke-width", "4px");
         sAmericanElements.css("stroke-width", "4px");

         //BEGIN HOVER FUNCTIONALITY//
         //Each continent's stroke becomes white, the cursor becomes a pointer
         europeanElements.hover(function () {
            if (onMainMenu) {
               europeanElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               europeanElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         });

         africanElements.hover(function () {
            if (onMainMenu) {
               africanElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               africanElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         });

         sAmericanElements.hover(function () {
            if (onMainMenu) {
               sAmericanElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               sAmericanElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         });

         oceanianElements.hover(function () {
            if (onMainMenu) {
               oceanianElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               oceanianElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         })

         americanElements.hover(function () {
            if (onMainMenu) {
               americanElements
                  .css("stroke", "white")
                  .css("transition", "0.8s")
                  .css("cursor", "pointer")
            }
         }, function () {
            if (onMainMenu) {
               americanElements
                  .css("stroke", "black")
                  .css("cursor", "")
            }
         })

         asiaElements.hover(
            function () {
               if (onMainMenu) {
                  asiaElements
                     .css("stroke", "white")
                     .css("transition", "0.8s")
                     .css("cursor", "pointer")
               }
            },
            function () {
               if (onMainMenu) {
                  asiaElements
                     .css("stroke", "black")
                     .css("cursor", "")
               }
            }
         );


         //ASIA ZOOM IN
         asiaElements.on("click", function () {
            inAsia = true;
            if (onMainMenu && inAsia) {
               onMainMenu = false;
               asiaElements
                  .css("stroke", "black")
                  .css("cursor", "")
                  .css("stroke-width", "4px")
               MCanvas
                  .attr("viewBox", "0 0 2100 1000")
                  .attr("padding-right", "40%")
                  .attr("height", "5%")
                  .css("margin-left", "0%")
                  .css("transform", "scale(1.7)")
                  .css("transition", "1s")
                  .css("padding-top", "5.5%")
                  .css("padding-right", "57%");
               BGcanvas
                  .css("transform", "scale(1.7)")
                  .css("transition", "1s")
                  .attr("overflow", "hidden")
                  .css("padding-top", "5.5%")
                  .attr("viewBox", "0 0 3700 1652")
               //END OF ZOOM IN FUNCTIONALITY

               //Coloring of The Asian Elements
               $(".Unclear.Asia").css("fill", "#796465")

               //Russia's hover and onclick code
               $("#Russia").css("fill", "#BDC4A7");
               $("#Russia").on("click", function () {
                  giveData("#Russia", "#BDC4A7");
               });
               $("#Russia").hover(function () {
                  if (inAsia == true && onMainMenu == false && inAfrica == false && inAmerica == false && inSAmerica == false && inEurope == false) {
                     $("#Russia").css("stroke", "white");
                     $("#Russia").css("cursor", "pointer");
                  }
               }, function () {
                  $("#Russia").css("stroke", "black")
                  $("#Russia").css("cursor", "");
               });


               //China's hover and onclick code
               $("#China").css("fill", "#84322E");
               $("#China").on("click", function () {
                  giveData("#China", "#84322E");
                  $(".stats").css("color", "white")
               });
               $("#China").hover(function () {
                  if (inAsia == true && onMainMenu == false && inAfrica == false && inAmerica == false && inSAmerica == false && inEurope == false) {
                     $("#China").css("stroke", "white");
                     $("#China").css("cursor", "pointer");
                  }
               }, function () {
                  $("#China").css("stroke", "black")
               });

               //India's hover and onclick code
               $("#India").css("fill", "#E8D2AE");
               $("#India").on("click", function () {
                  giveData("#India", "#E8D2AE");
                  $(".stats").css("color", "rgb(88, 92, 78)")
               });
               $("#India").hover(function () {
                  if (inAsia == true && onMainMenu == false && inAfrica == false && inAmerica == false && inSAmerica == false && inEurope == false) {
                     $("#India").css("stroke", "white");
                     $("#India").css("cursor", "pointer");
                  }
               }, function () {
                  $("#India").css("stroke", "black")
               });

               $("#middleEast").css("fill", "#D7B29D");
               $("#Japan").css("fill", "#CB8589");
               $("#Japan").on("click", function () {
                  giveData("#Japan", "#CB8589")
               });
               $("#Japan").hover(function () {
                  if (inAsia == true && onMainMenu == false && inAfrica == false && inAmerica == false && inSAmerica == false && inEurope == false) {
                     $("#Japan").css("stroke", "white");
                     $("#Japan").css("cursor", "pointer");
                  }
               }, function () {
                  $("#Japan").css("stroke", "black")
               });
            }
         });



         //EUROPE ZOOM IN
         europeanElements.on("click", function () {
            inEurope = true;
            if (onMainMenu) {
               onMainMenu = false;
               europeanElements
                  .css("stroke", "black")
                  .css("stroke-width", "3px")
               MCanvas
                  .css("transform", "scale(4)")
                  .css("padding-top", "14%")
                  .css("padding-left", "6%")
                  .attr("viewBox", "0 0 2100 820")
                  .css("overflow", "hidden")
                  .css("transition", "1s");
               BGcanvas
                  .css("transform", "scale(4)")
                  .css("transition", "1s")
                  .attr("overflow", "hidden")
                  .css("padding-top", "12%")
                  .attr("viewBox", "0 0 3700 1400")
               //END OF ZOOM IN FUNCTIONALITY
               $(".Unclear.Europe, #Spain, #Benelux, #UkIrl").css("fill", "#9CAFB7 ").css("cursor","");
               //Germany's onclick and hover code
               $("#Germany").css("fill", "#949D6A");
               $("#Germany").on("click", function () {
                  giveData("#Germany", "#949D6A");
                  $(".stats").css("color", "rgb(88, 92, 78)")
               });
               $("#Germany").hover(function () {
                  if (inAsia == false && onMainMenu == false && inAfrica == false && inAmerica == false && inSAmerica == false && inEurope == true) {
                     $("#Germany").css("stroke", "white");
                     $("#Germany").css("cursor", "pointer");
                  }
               }, function () {
                  $("#Germany").css("stroke", "black")
               });

               //France's onclick and hover code
               $("#France").css("fill", "#ADB993");
               $("#France").on("click", function () {
                  giveData("#France", "#ADB993");
                  $(".stats").css("color", "rgb(88, 92, 78)")
               });
               $("#France").hover(function () {
                  if (inAsia == false && onMainMenu == false && inAfrica == false && inAmerica == false && inSAmerica == false && inEurope == true) {
                     $("#France").css("stroke", "white");
                     $("#France").css("cursor", "pointer");
                  }
               }, function () {
                  $("#France").css("stroke", "black")
               });
               //Bulgaria's hover and onclick code
               $("#Bulgaria").css("fill", "#D0D38F");
               $("#Bulgaria").on("click", function () {
                  giveData("#Bulgaria", "#D0D38F");
                  $(".stats").css("color", "rgb(88, 92, 78)")
               });
               $("#Bulgaria").hover(function () {
                  if (inAsia == false && onMainMenu == false && inAfrica == false && inAmerica == false && inSAmerica == false && inEurope == true) {
                     $("#Bulgaria").css("stroke", "white");
                     $("#Bulgaria").css("cursor", "pointer");
                  }
               }, function () {
                  $("#Bulgaria").css("stroke", "black")
               });

               //United kingdom's hover and onclick code
               $("#UK, #NIrl").css("fill", "#BFEDC1 ");
               $("#UK, #NIrl").on("click", function () {
                  giveData("#UK", "#BFEDC1");
                  $(".stats").css("color", "rgb(88, 92, 78)")
               });
               $("#UK, #NIrl").hover(function () {
                  if (inAsia == false && onMainMenu == false && inAfrica == false && inAmerica == false && inSAmerica == false && inEurope == true) {
                     $("#UK, #NIrl").css("stroke", "white");
                     $("#UK, #NIrl").css("cursor", "pointer");
                  }
               }, function () {
                  $("#UK, #NIrl").css("stroke", "black")
               });
            }
         });

         //Africa Zoom in

         africanElements.on("click", function () {
            inAfrica = true;
            if (onMainMenu) {
               onMainMenu = false;
               africanElements.css("stroke", "black")
               MCanvas
                  .css("transform", "scale(2)")
                  .css("padding-bottom", "27%")
                  .css("overflow", "hidden")
                  .attr("viewBox", "0 0 2100 892")
                  .css("transition", "1s");
               BGcanvas
                  .css("overflow", "hidden")
                  .css("transform", "scale(2)")
                  .css("transition", "1s")
                  .attr("viewBox", "0 0 3700 1850")
               $("#Africa, #Unclear19").css("fill", "#A58663 ")
            }
         });

         //S.America zoom-in

         sAmericanElements.on("click", function () {
            inSAmerica = true;
            if (onMainMenu) {
               onMainMenu = false;
               sAmericanElements.css("stroke", "black")
               MCanvas
                  .css("transition", "1s")
                  .css("transform", "scale(2)")
                  .attr("viewBox", "0 0 2100 1100")
                  .css("margin-left", "50%")
                  .css("padding-bottom", "50%")
                  .css("overflow", "hidden")
               BGcanvas
                  .css("transition", "1s")
                  .css("overflow", "hidden")
                  .css("transform", "scale(2)")
                  .attr("viewBox", "0 100 3700 1860")
               $("#SouthAmerica").css("fill", "#C0D684 ")
            }
         });

         //America zoom-in
         americanElements.on("click", function () {
            inAmerica = true;
            if (onMainMenu) {
               onMainMenu = false;
               americanElements.css("stroke", "black")
               MCanvas
                  .css("overflow", "hidden")
                  .css("transition", "1s")
                  .css("transform", "scale(2)")
                  .css("padding-top", "13%")
                  .css("padding-left", "35%")
                  .css("padding-top", "10%")
                  .attr("viewBox", "0 0 2100 912")
               BGcanvas
                  .css("transition", "1s")
                  .css("overflow", "hidden")
                  .css("transform", "scale(2)")
               //End of zoom-in feature
               $(".Unclear.America, #Greenland").css("fill", "#848586").css("cursor","")
               //USA's hover and onclick code
               $("#USA, #Alaska, #Unclear32").css("fill", "#C6A59F ")
               $("#USA, #Alaska, #Unclear32").on("click", function () {
                  giveData("#USA", "#C6A59F");
                  $(".stats").css("color", "rgb(88, 92, 78)")
               });
               $("#USA, #Alaska, #Unclear32").hover(function () {
                  if (inAsia == false && onMainMenu == false && inAfrica == false && inAmerica == true && inSAmerica == false && inEurope == false) {
                     $("#USA, #Alaska, #Unclear32").css("stroke", "white");
                     $("#USA, #Alaska, #Unclear32").css("cursor", "pointer");
                  }
               }, function () {
                  $("#USA, #Alaska, #Unclear32").css("stroke", "black")
               });
               //Mexico's onclick and hover code
               $("#Mexico").css("fill", "#E0AB96  ")
               $("#Mexico").on("click", function () {
                  giveData("#Mexico", "#CB8589")
               });
               $("#Mexico").hover(function () {
                  if (inAsia == false && onMainMenu == false && inAfrica == false && inAmerica == true && inSAmerica == false && inEurope == false) {
                     $("#Mexico").css("stroke", "white");
                     $("#Mexico").css("cursor", "pointer");
                  }
               }, function () {
                  $("#Mexico").css("stroke", "black")
               });
               $("#Canada, #Unclear25, #Unclear26, #Unclear27, #Unclear29").css("fill", "#BAA898")
               $("#Canada, #Unclear25, #Unclear26, #Unclear27, #Unclear29").on("click", function () {
                  giveData("#Canada", "#BAA898")
               });
               $("#Canada, #Unclear25, #Unclear26, #Unclear27, #Unclear29").hover(function () {
                  if (inAsia == false && onMainMenu == false && inAfrica == false && inAmerica == true && inSAmerica == false && inEurope == false) {
                     $("#Canada, #Unclear25, #Unclear26, #Unclear27, #Unclear29").css("stroke", "white");
                     $("#Canada, #Unclear25, #Unclear26, #Unclear27, #Unclear29").css("cursor", "pointer");
                  }
               }, function () {
                  $("#Canada, #Unclear25, #Unclear26, #Unclear27, #Unclear29").css("stroke", "black")
               });
            }
         });

         //Oceania zoom-in
         oceanianElements.on("click", function () {
            inOceania = true;
            if (onMainMenu) {
               onMainMenu = false;
               oceanianElements.css("stroke", "black")
               MCanvas
                  .css("transition", "1s")
                  .css("overflow", "hidden")
                  .css("transform", "scale(3)")
                  .css("padding-right", "100%")
                  .css("padding-bottom", "38%")
               BGcanvas
                  .css("transition", "1s")
                  .css("overflow", "hidden")
                  .css("transform", "scale(3)")
               $(".Unclear.Oceania").css("fill", "#9D9E9E ").css("cursor","")
               $("#Australia, #Tasmania").css("fill", "#EF8354")
               $("#Australia, #Tasmania").on("click", function () {
                  giveData("#Australia", "#EF8354")
               });
               $("#Australia, #Tasmania").hover(function () {
                  if (inAsia == false && onMainMenu == false && inAfrica == false && inAmerica == true && inSAmerica == false && inEurope == false) {
                     $("#Australia, #Tasmania").css("stroke", "white");
                     $("#Australia, #Tasmania").css("cursor", "pointer");
                  }
               }, function () {
                  $("#Australia, #Tasmania").css("stroke", "black")
               });
            }
         });



         for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "water"); }
         for (var i = 0; i < 100; i++) { AnimateWater(40, 24, "BlueWater"); }
         for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "WhiteWater"); }

         setTimeout(function () {
            for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "water"); }
            for (var i = 0; i < 100; i++) { AnimateWater(40, 24, "BlueWater"); }
            for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "WhiteWater"); }

            setTimeout(function () {
               for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "water"); }
               for (var i = 0; i < 100; i++) { AnimateWater(40, 24, "BlueWater"); }
               for (var i = 0; i < 50; i++) { AnimateWater(40, 24, "WhiteWater"); }
            }, 2000);
         }, 2000);

      }


      function zoomOut() {

         var europeanElements = $(".Europe");
         var americanElements = $(".America");
         var oceanianElements = $(".Oceania");
         var africanElements = $(".Africa");
         var sAmericanElements = $(".SouthAmerica");
         var MCanvas = $("#SVGRoot");
         var BGcanvas = $("#triangle");
         var asiaElements = $(".Asia");
         onMainMenu = true;
         asiaElements
            .css("stroke", "black")
         MCanvas
            .attr("viewBox", "0 0 2100 1100")
            .attr("padding-right", "")
            .attr("height", "")
            .css("margin-left", "")
            .css("transform", "scale(1)")
            .css("transition", "1s")
            .css("padding-top", "")
            .css("padding-right", "")
            .css("padding-left", "")
            .css("padding-bottom", "")
         BGcanvas
            .css("margin-top", "")
            .css("margin-bottom", "")
            .css("padding-bottom", "")
            .css("transform", "scale(1)")
            .css("transition", "1s")
            .attr("overflow", "hidden")
            .css("padding-top", "")
            .attr("viewBox", "0 0 3700 1860");
         $(".Unclear.Asia")
            .css("animation-name", "")
            .css("animation-duration", "")
            .css("animation-iteration-count", "");
         asiaElements.css("fill", "#f3be5c");
         oceanianElements.css("fill", "#f3be5c");
         africanElements.css("fill", "#f3be5c");
         americanElements.css("fill", "#f3be5c");
         sAmericanElements.css("fill", "#f3be5c");
         europeanElements.css("fill", "#f3be5c");
         asiaElements.css("stroke", "black");
         oceanianElements.css("stroke", "black");
         africanElements.css("stroke", "black");
         americanElements.css("stroke", "black");
         sAmericanElements.css("stroke", "black");
         europeanElements.css("stroke", "black");
         $("#dataDiv").css("display", "none")
         $("#pollution").html("Retrieving Data...");
         $("#food").html("Retrieving Data...")
         $("#population").html("Retrieving Data...")
         $("#GDP").html("Retrieving Data...")
         $("body").css("background-color", "#222334")
         inAfrica = false;
         inAsia = false;
         inEurope = false;
         inSAmerica = false;
         inAmerica = false;
         inOceania = false;
      }

   </script>
</head>

<body>
   <!-- \/------------\/ Navigation Bar \/------------\/ -->
   <div class='menu'>

      <span class='toggle'>
         <i></i>
         <i></i>
         <i></i>
      </span>

      <div class='menuContent'>
         <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li class="here">Map</li>
            <li><a href="otherapps.html">Other Apps</a></li>
            <li><a href="url">Our Team</a></li>
         </ul>
      </div>

   </div>

   <script src="../js/index.js"></script>
   <!-- /\------------/\ Navigation Bar /\------------/\ -->
   <!-- <a href="#dataDiv">dadada</a> -->
   <div id="Map"></div>
   <div id="BG" style="position: relative; overflow:hidden;"></div>
   <!-- <button style="position: absolute; z-index: 3; float:right;" onclick="zoomOut()">Zoom out</button> -->
   <hr style="color:white">
   <div id="dataDiv" style="display:none">
      <center>
         <p id="CountryName"></p>
      </center>
      <div id="PopulationDiv">
         <p id="PopSub" class="sub">Population:</p>
         <p id="population" class="stats">...</p>
      </div>
      <div id="FoodDiv">
         <p id="FoodSub" class="sub">Seafood Production Score:</p>
         <p id="food" class="stats">...</p>
      </div>
      <div id="GDPDiv">
         <p id="GDPSub" class="sub">GDP:</p>
         <p id="GDP" class="stats">...</p>
      </div>
      <div id="PollutionDiv">
         <p id="PollSub" class="sub">Pollution:</p>
         <p id="pollution" class="stats">...</p>
      </div>
      <center>
         <a href="#Map" id="backToMap" class="sub">Back To Map</a>
      </center>
   </div>
</body>

</html>
</body>

</html>